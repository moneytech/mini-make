Mini Make
=========

[![Build Status](https://travis-ci.org/tay10r/mini-make.svg?branch=master)](https://travis-ci.org/tay10r/mini-make)
[![Build status](https://ci.appveyor.com/api/projects/status/u9fhns5iuxqmbuuw?svg=true)](https://ci.appveyor.com/project/tholberton/mini-make)

Mini Make is an implementation of Make that runs on Windows and Linux.

It makes it easy to run a Makefile without downloading the entire MinGW or Visual Studio packages.

It is made to run Makefiles generated by [CMake](https://cmake.org/), and with a few other features
from GNU Make.

### Building

CMake is the primary build tool.

To build the project with CMake, do this:

```
mkdir build
cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
cmake --build . --target all
cmake --build . --target install
```

You can also build the project using
[QMake](http://doc.qt.io/qt-5/qmake-overview.html).

```
mkdir build
cd build
qmake ..
make
```

### Usage

To use Mini Make with CMake, you can do this:

```
mkdir build
cd build
cmake .. -DCMAKE_MAKE_PROGRAM=mini-make
mini-make
```

### Library Usage

You can use `libmake` to write code that uses makefiles.

It's pretty easy to integrate with CMake projects.

In `CMakeLists.txt`, you can find it with `find_package`.

```
cmake_minimum_required(VERSION 2.6)

find_package(MiniMake REQUIRED)

add_executable("makefile-examiner" "makefile-examiner.c")

target_link_libraries("makefile-examiner" "make")
```

Note that the include directories are automatically passed to the
`makefile_examiner` target.

The `main.c` file might look like this:

```
#include <mini-make/parser.h>

int main(void) {

  struct make_parser parser;

  make_parser_init(&parser);

  /* examine the makefile */

  make_parser_free(&parser);

  return 0;
}
```

You can check out examples in the `examples` directory.

